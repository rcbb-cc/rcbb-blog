(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{374:function(s,n,a){"use strict";a.r(n);var r=a(1),t=Object(r.a)({},(function(){var s=this,n=s._self._c;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h1",{attrs:{id:"内网映射"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#内网映射"}},[s._v("#")]),s._v(" 内网映射")]),s._v(" "),n("p",[s._v("内网映射是 NAT 的一种，功能是把内网IP映射到公网，使公网也能轻松访问所搭建的服务。")]),s._v(" "),n("h2",{attrs:{id:"lanproxy"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#lanproxy"}},[s._v("#")]),s._v(" lanproxy")]),s._v(" "),n("p",[s._v("lanproxy 是一个将局域网个人电脑、服务器代理到公网的内网穿透工具，支持tcp流量转发，可支持任何tcp上层协议（访问内网网站、本地支付接口调试、ssh访问、远程桌面...）。")]),s._v(" "),n("p",[n("a",{attrs:{href:"https://github.com/ffay/lanproxy/",target:"_blank",rel:"noopener noreferrer"}},[s._v("GitHub地址"),n("OutboundLink")],1)]),s._v(" "),n("p",[n("a",{attrs:{href:"https://file.nioee.com/d/2e81550ebdbd416c933f/",target:"_blank",rel:"noopener noreferrer"}},[s._v("文件下载地址"),n("OutboundLink")],1)]),s._v(" "),n("p",[n("img",{attrs:{src:"https://rcbb-blog.oss-cn-guangzhou.aliyuncs.com/2022/09/20220927231629-9312fd.png?x-oss-process=style/yuantu_shuiyin",alt:"文件"}})]),s._v(" "),n("h3",{attrs:{id:"服务端配置"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#服务端配置"}},[s._v("#")]),s._v(" 服务端配置")]),s._v(" "),n("p",[s._v("1、首先你的服务器得安装 Java 环境。")]),s._v(" "),n("blockquote",[n("p",[n("a",{attrs:{href:"https://www.baidu.com/s?wd=linux%E5%AE%89%E8%A3%85jdk",target:"_blank",rel:"noopener noreferrer"}},[s._v("云主机安装Java环境"),n("OutboundLink")],1)])]),s._v(" "),n("p",[s._v("2、下载 proxy-server-0.1.zip 上传到服务器。")]),s._v(" "),n("blockquote",[n("p",[s._v("（使用 xftp、FinalShell 等工具）")])]),s._v(" "),n("p",[s._v("3、解压 zip 压缩包。")]),s._v(" "),n("blockquote",[n("p",[s._v("unzip proxy-server-0.1.zip")])]),s._v(" "),n("blockquote",[n("p",[s._v("如果云主机无法解压则需安装软件包，安装 unzip。"),n("br"),s._v("\n命令：yum install -y unzip zip"),n("br"),s._v("\n解压后的结构:")]),s._v(" "),n("p",[n("img",{attrs:{src:"https://rcbb-blog.oss-cn-guangzhou.aliyuncs.com/2021/01/2019-08-03-22-56-17d394.png?x-oss-process=style/yuantu_shuiyin",alt:"proxy-server-0.1.zip"}})])]),s._v(" "),n("p",[s._v("4、配置相关文件")]),s._v(" "),n("blockquote",[n("p",[s._v("目录： proxy-server-0.1/conf"),n("br"),s._v("\nconfig.properties"),n("br"),s._v("\n服务器端按照如下配置即可，需开放云服务的安全组，将其所需要的端口全部放开。\n（如：4900、4993、8090）当然自己也可以修改对应的端口。")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("server.bind=0.0.0.0\n\n# 与代理客户端通信端口\nserver.port=4900 \n# 这里并不是server项目的启动端口,而是.......\n# 比如说你的一个部署在内网服务器上的项目占用端口4900 ,而你想通过公网ip访问内网中\n# 这个4900端口下的项目,这个server.port就等于4900\n\n# ssl相关配置 如果不适用ssl 此处可以不进行配置\nserver.ssl.enable=true\nserver.ssl.bind=0.0.0.0\nserver.ssl.port=4993\nserver.ssl.jksPath=test.jks\nserver.ssl.keyStorePassword=123456\nserver.ssl.keyManagerPassword=123456\n\n# 这个配置可以忽略\nserver.ssl.needsClientAuth=false\n\n# WEB在线配置管理相关信息\nconfig.server.bind=0.0.0.0\n# 这里是server项目启动和访问端口\nconfig.server.port=8090 \n# 用户名和密码\nconfig.admin.username=admin\nconfig.admin.password=admin\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br")])]),n("p",[s._v("5、修改启动脚本权限")]),s._v(" "),n("blockquote",[n("p",[s._v("目录： proxy-server-0.1/bin"),n("br"),s._v("\nchmod +x startup.sh"),n("br"),s._v("\n启动命令： ./startup.sh"),n("br"),s._v("\n启动后则访问后台： 域名:8090  或  ip:8090")]),s._v(" "),n("p",[n("img",{attrs:{src:"https://rcbb-blog.oss-cn-guangzhou.aliyuncs.com/2021/01/2019-08-03-23-01-21b176.png?x-oss-process=style/yuantu_shuiyin",alt:"LanProxy后台页面"}}),s._v("\n看到这个页面则代表启动成功")])]),s._v(" "),n("p",[s._v("6、后台配置客户端")]),s._v(" "),n("blockquote",[n("p",[n("img",{attrs:{src:"https://rcbb-blog.oss-cn-guangzhou.aliyuncs.com/2022/09/20220927233428-3ec1ee.png?x-oss-process=style/yuantu_shuiyin",alt:"后台配置客户端"}})])]),s._v(" "),n("blockquote",[n("p",[n("img",{attrs:{src:"https://rcbb-blog.oss-cn-guangzhou.aliyuncs.com/2022/09/20220927233611-3f7fe4.png?x-oss-process=style/yuantu_shuiyin",alt:"客户端管理"}}),s._v("\n注意状态，目前为 离线")])]),s._v(" "),n("p",[s._v("7、配置公网端口和后端ip端口")]),s._v(" "),n("blockquote",[n("p",[n("img",{attrs:{src:"https://rcbb-blog.oss-cn-guangzhou.aliyuncs.com/2022/09/20220927233833-e00499.png?x-oss-process=style/yuantu_shuiyin",alt:"配置公网端口"}}),s._v("\n代理配置\n"),n("img",{attrs:{src:"https://rcbb-blog.oss-cn-guangzhou.aliyuncs.com/2022/09/20220927234140-d523e7.png?x-oss-process=style/yuantu_shuiyin",alt:"代理配置"}})])]),s._v(" "),n("h3",{attrs:{id:"客户端配置"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#客户端配置"}},[s._v("#")]),s._v(" 客户端配置")]),s._v(" "),n("p",[s._v("1、首先自己本机也得安装 Java 环境")]),s._v(" "),n("p",[s._v("2、下载客户端文件压缩包")]),s._v(" "),n("blockquote",[n("p",[s._v("proxy-java-client-0.1.zip"),n("br"),s._v("\n结构如下："),n("br"),s._v(" "),n("img",{attrs:{src:"https://rcbb-blog.oss-cn-guangzhou.aliyuncs.com/2021/01/2019-08-03-23-05-01-2e72ed.png?x-oss-process=style/yuantu_shuiyin",alt:"proxy-java-client-0.1.zip"}})])]),s._v(" "),n("p",[s._v("3、修改配置")]),s._v(" "),n("blockquote",[n("p",[s._v("路径：proxy-java-client-0.1/conf"),n("br"),s._v("\nconfig.properties")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("# 配置客户端是生成的那个随机秘钥\nclient.key=\n# 与服务器保持一致即可 \nssl.enable=true\nssl.jksPath=test.jks\nssl.keyStorePassword=123456\n\n# 填写自己的公网ip地址\nserver.host=\n\n# 如果使用 ssl，则配置的服务器 ssl.port 对应\n# 如果不使用 ssl，则配置的服务器  server.port 对应\nserver.port=4900\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br")])]),n("p",[s._v("4、启动")]),s._v(" "),n("blockquote",[n("p",[s._v("路径： proxy-java-client-0.1/bin"),n("br"),s._v("\n双击 startup.bat"),n("br"),s._v("\n如果后台管理项目中看见客户端状态改变："),n("br"),s._v(" "),n("img",{attrs:{src:"https://rcbb-blog.oss-cn-guangzhou.aliyuncs.com/2022/09/20220928115829-65a54a.png?x-oss-process=style/yuantu_shuiyin",alt:"连接成功"}})])]),s._v(" "),n("h3",{attrs:{id:"测试"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#测试"}},[s._v("#")]),s._v(" 测试")]),s._v(" "),n("p",[s._v("配置的 3333 端口的请求会映射到本地服务的 127.0.0.1:8900 服务上。")]),s._v(" "),n("p",[s._v("只需要访问云主机上 3333 端口的请求，能够映射到本地服务就代表成功了。")]),s._v(" "),n("p",[n("img",{attrs:{src:"https://rcbb-blog.oss-cn-guangzhou.aliyuncs.com/2022/09/20220928140533-c6b4ca.png?x-oss-process=style/yuantu_shuiyin",alt:"配置"}})]),s._v(" "),n("h2",{attrs:{id:"常见问题"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#常见问题"}},[s._v("#")]),s._v(" 常见问题")]),s._v(" "),n("p",[s._v("如果启动失败，状态没有改变，可以查看相应的 log 日志。")]),s._v(" "),n("p",[s._v("1、云服务器未配置安全组，端口未放开。")]),s._v(" "),n("p",[s._v("2、本地 Java 环境未配置好。")]),s._v(" "),n("p",[s._v("3、服务器上 Java 环境未配置好。")])])}),[],!1,null,null,null);n.default=t.exports}}]);